(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{448:function(t,s,a){"use strict";a.r(s);var e=a(56),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"git-生成ssh公私钥-并配置到git仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-生成ssh公私钥-并配置到git仓库"}},[t._v("#")]),t._v(" Git-生成SSH公私钥，并配置到Git仓库")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#前言"}},[t._v("前言")])]),a("li",[a("a",{attrs:{href:"#主要流程"}},[t._v("主要流程")])]),a("li",[a("a",{attrs:{href:"#名词介绍"}},[t._v("名词介绍")])]),a("li",[a("a",{attrs:{href:"#具体操作流程"}},[t._v("具体操作流程")])]),a("li",[a("a",{attrs:{href:"#常见问题"}},[t._v("常见问题")]),a("ul",[a("li",[a("a",{attrs:{href:"#error-connecting-to-agent-no-such-file-or-directory"}},[t._v("Error connecting to agent: No such file or directory")])]),a("li",[a("a",{attrs:{href:"#tortoisegit-提交报错"}},[t._v("TortoiseGit 提交报错")])])])]),a("li",[a("a",{attrs:{href:"#参考来源"}},[t._v("参考来源")])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[t._v("我们在 Git 下载提交时，一般使用的是 Https 的方式，细心的小伙伴会注意到另一种方式 SSH。")]),t._v(" "),a("p",[t._v("另外，一般使用 Https 方式向 Github/Gitee 提交代码时，需要验证账号密码，而 SSH 方式只要配置好公私钥则可以不验证账号密码（Github 目前似乎已经不支持使用账号密码，必须使用 SSH）。")]),t._v(" "),a("p",[t._v("本文将介绍如何使用 Git 的 SSH 方式。")]),t._v(" "),a("h2",{attrs:{id:"主要流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主要流程"}},[t._v("#")]),t._v(" 主要流程")]),t._v(" "),a("ol",[a("li",[t._v("在 Shell 中，使用 RSA 算法，生成一对公私钥")]),t._v(" "),a("li",[t._v("在 Git 本地中配置私钥")]),t._v(" "),a("li",[t._v("在 Git 远端仓库配置公钥")])]),t._v(" "),a("h2",{attrs:{id:"名词介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#名词介绍"}},[t._v("#")]),t._v(" 名词介绍")]),t._v(" "),a("p",[a("strong",[t._v("SSH")])]),t._v(" "),a("p",[t._v("SSH 是 Secure Shell 的缩写，主要是网络安全的范畴。")]),t._v(" "),a("p",[t._v("是一种通用的、功能强大的、基于软件的网络安全解决方案。计算机每次向网络发送数据时，SSH 都会自动对其进行加密。数据到达目的地时，SSH 自动对加密数据进行解密。")]),t._v(" "),a("p",[t._v("加解密的过程中，需要一对密钥对，对数据进行加解密。")]),t._v(" "),a("p",[a("strong",[t._v("RSA")])]),t._v(" "),a("p",[t._v("这里涉及到的加密算法是 RSA 算法，密钥是一对公私钥，公钥给别人用于加密，私钥自己存留用于解密。")]),t._v(" "),a("h2",{attrs:{id:"具体操作流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#具体操作流程"}},[t._v("#")]),t._v(" 具体操作流程")]),t._v(" "),a("p",[t._v("注：本人的操作环境是 windows 系统")]),t._v(" "),a("p",[a("strong",[t._v("1 进入Git Bash")])]),t._v(" "),a("p",[t._v("鼠标右键【Git Bash Here】（或者文件路径里敲 Git Bash.lnk）")]),t._v(" "),a("p",[a("strong",[t._v("2 输入生成 RSA 秘钥对的命令")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("ssh-keygen -t rsa -C "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"your_email@example.com"')]),t._v("\n")])])]),a("p",[a("strong",[t._v("3 输入秘钥名称")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("Enter "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" to save the key "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("/c/Users/CL/.ssh/id_rsa"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("输入秘钥名称/直接回车"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("p",[t._v("注：本例中，输入秘钥名称为：test123")]),t._v(" "),a("p",[a("strong",[t._v("4 输入密码和确认密码")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("Enter passphrase "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("empty "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" no passphrase"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":\nEnter same passphrase again:\n")])])]),a("p",[t._v("都可空，直接回车，等待生成秘钥对。")]),t._v(" "),a("p",[t._v("会在文件夹下，生成两个文件：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("test123　　　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#私钥")]),t._v("\ntest123.pub 　"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#公钥")]),t._v("\n")])])]),a("p",[t._v("一般会把密钥对放在 "),a("code",[t._v("C:\\Users\\个人用户名\\.ssh")])]),t._v(" "),a("p",[a("strong",[t._v("5 本地添加私钥")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("ssh-add "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("私钥路径"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("p",[a("strong",[t._v("6 读取公钥")])]),t._v(" "),a("p",[t._v("方式1：cat <公钥路径>")]),t._v(" "),a("p",[t._v("方式2：以文本方式打开公钥文件")]),t._v(" "),a("p",[t._v("将公钥文本复制，用于下一步")]),t._v(" "),a("p",[a("strong",[t._v("7 在 Github / Gitee 添加公钥")])]),t._v(" "),a("p",[t._v("Github：点自己头像 >> Settings >> SSH and GPG keys >>New SSH key")]),t._v(" "),a("p",[t._v("Gitee：点自己头像 >> 设置 >> SS公钥")]),t._v(" "),a("p",[a("strong",[t._v("8 验证 SSH 连接")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" -T git@github.com\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 提示如下则成功")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Hi [YourGithubUsername]! You've successfully authenticated, but GitHub does not provide shell access.")]),t._v("\n")])])]),a("h2",{attrs:{id:"常见问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[t._v("#")]),t._v(" 常见问题")]),t._v(" "),a("h3",{attrs:{id:"error-connecting-to-agent-no-such-file-or-directory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#error-connecting-to-agent-no-such-file-or-directory"}},[t._v("#")]),t._v(" Error connecting to agent: No such file or directory")]),t._v(" "),a("p",[a("strong",[t._v("报错信息")])]),t._v(" "),a("p",[t._v("使用 "),a("code",[t._v("ssh-add <私钥路径>")]),t._v(" 时，报错")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("Error connecting to agent: No such "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" or directory\n")])])]),a("p",[a("strong",[t._v("解决方案")])]),t._v(" "),a("p",[t._v("参考："),a("a",{attrs:{href:"https://www.cnblogs.com/attackingmilo/p/Windows-ssh-add-error.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Windows下使用ssh-add报错 Error connecting to agent: No such file or directory"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("打开 Windows PowerShell 检查 ssh-agent 服务是否启动成功")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("get-service ssh*\n")])])]),a("p",[t._v("状态是 Stopped 状态，则启动服务")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("Set-Service -Name ssh-agent -StartupType Manual\nStart-Service ssh-agent\n")])])]),a("p",[t._v("如果启动成功，则可以继续添加秘钥")]),t._v(" "),a("h3",{attrs:{id:"tortoisegit-提交报错"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tortoisegit-提交报错"}},[t._v("#")]),t._v(" TortoiseGit 提交报错")]),t._v(" "),a("p",[a("strong",[t._v("报错信息")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("No supported authentication methods available"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("server sent: publickey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("strong",[t._v("解决方案")])]),t._v(" "),a("p",[t._v("在 TortoiseGit 设置里面 >> Network >> SSH >> SSH client")]),t._v(" "),a("p",[t._v("改成 Git 的 SSH lient")]),t._v(" "),a("p",[t._v("这里本人的本机的路径为：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("C:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Program Files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Git"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ssh.exe\n")])])]),a("h2",{attrs:{id:"参考来源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考来源"}},[t._v("#")]),t._v(" 参考来源")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://blog.csdn.net/july_young/article/details/82712574",target:"_blank",rel:"noopener noreferrer"}},[t._v("july_young 的 git添加私钥"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.cnblogs.com/kaerxifa/p/11164206.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("wangju003 的 git配置密钥（私钥、ssh、公钥）"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://blog.csdn.net/Hello_World_QWP/article/details/82216345",target:"_blank",rel:"noopener noreferrer"}},[t._v("Disconnected: No supported authentication methods available(server sent: publickey) 的解决办法"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=r.exports}}]);